{"version":3,"file":"js/343.1be82731.js","mappings":"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","sources":["webpack://app/./src/views/role/Role.vue","webpack://app/src/views/role/Role.vue","webpack://app/./src/views/role/Role.vue?da69","webpack://app/./src/views/role/Role.vue?25e0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加岗位\")]),_c('el-dialog',{attrs:{\"title\":\"添加岗位\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"岗位编号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"岗位名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.nameZh),callback:function ($$v) {_vm.$set(_vm.form, \"nameZh\", $$v)},expression:\"form.nameZh\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSumit}},[_vm._v(\"确 定\")])],1)],1),_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"placeholder\":\"根据用户昵称搜索\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleSearch.apply(null, arguments)}},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}})],1),_c('el-col',{attrs:{\"span\":1}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"size\":\"mini\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"rid\",\"label\":\"岗位编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"岗位编码\"}}),_c('el-table-column',{attrs:{\"prop\":\"nameZh\",\"label\":\"岗位名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"enabled\",\"label\":\"岗位状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.enabled === true)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"正常\")]):_vm._e(),(scope.row.enabled === false)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"关闭\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.changeStatus(scope.row)}},model:{value:(scope.row.enabled),callback:function ($$v) {_vm.$set(scope.row, \"enabled\", $$v)},expression:\"scope.row.enabled\"}})]}}])})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[3, 5, 7, 10],\"page-size\":_vm.pageSize,\"layout\":\"->,sizes, prev, pager, next, jumper ,total\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\r\n    <el-button type=\"primary\" size=\"mini\" style=\"margin-top:10px\" @click=\"dialogFormVisible = true\">添加岗位</el-button>\r\n\r\n    <el-dialog title=\"添加岗位\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"岗位编号\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"岗位名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.nameZh\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSumit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-card class=\"box-card\" style=\"margin-top: 10px\">\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          <el-input\r\n            type=\"text\"\r\n            v-model=\"searchKey\"\r\n            @keydown.enter.native=\"handleSearch\"\r\n            size=\"mini\"\r\n            placeholder=\"根据用户昵称搜索\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"1\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleSearch\"\r\n            icon=\"el-icon-search\"\r\n            size=\"mini\">搜索</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n    <el-table :data=\"tableData\" border style=\"width: 100%; margin-top: 10px\">\r\n      <el-table-column prop=\"rid\" label=\"岗位编号\" width=\"100\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"岗位编码\"> </el-table-column>\r\n      <el-table-column prop=\"nameZh\" label=\"岗位名称\"> </el-table-column>\r\n      <el-table-column prop=\"enabled\" label=\"岗位状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"success\" v-if=\"scope.row.enabled === true\">正常</el-tag>\r\n          <el-tag type=\"danger\" v-if=\"scope.row.enabled === false\">关闭</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n            v-model=\"scope.row.enabled\"\r\n            active-color=\"#13ce66\"\r\n            @change=\"changeStatus(scope.row)\"\r\n            inactive-color=\"#ff4949\">\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[3, 5, 7, 10]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"->,sizes, prev, pager, next, jumper ,total\"\r\n      :total=\"total\"\r\n      style=\"margin-top: 10px\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: \"Role\",\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      value: true,\r\n      total:0,\r\n      pageSize: 5,\r\n      currentPage:1,\r\n      searchKey:'',\r\n      dialogFormVisible: false,\r\n      formLabelWidth: '120px',\r\n      form:{\r\n        name:'',\r\n        nameZh:''\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getRoleList();\r\n  },\r\n  watch:{\r\n    searchKey:{\r\n      handler(){\r\n        this.debouncedSearch()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async getRoleList() {\r\n      const roleData = await this.$UserApi.getRoleListByPage({\r\n        nameZh:this.searchKey,\r\n        page:this.currentPage,\r\n        size:this.pageSize\r\n      });\r\n      this.tableData = roleData.data;\r\n      this.total = roleData.total\r\n    },\r\n    // 修改当前的页数\r\n    handleSizeChange(e) {\r\n      this.pageSize = e;\r\n      this.getRoleList();\r\n    },\r\n    // 修改当前页\r\n    handleCurrentChange(page) {\r\n      this.currentPage = page;\r\n      this.getRoleList();\r\n    },\r\n    handleSearch(){\r\n      this.getRoleList();\r\n    },\r\n    // 对搜索栏进行防抖处理\r\n    debouncedSearch: _.debounce(function() {\r\n      this.getRoleList()\r\n    },200),\r\n    async changeStatus(role) {\r\n      await this.$UserApi.updateRole(role)\r\n    },\r\n    async handleSumit(){\r\n      await this.$UserApi.addRole(this.form)\r\n      this.$message({\r\n        type:'success',\r\n        message:'添加成功'\r\n      })\r\n      this.dialogFormVisible = false\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=7f2d3bb1&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=7f2d3bb1&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","on","$event","dialogFormVisible","_v","form","formLabelWidth","model","value","name","callback","$$v","$set","expression","nameZh","staticClass","slot","handleSumit","nativeOn","type","indexOf","_k","keyCode","key","handleSearch","apply","arguments","searchKey","tableData","scopedSlots","_u","fn","scope","row","enabled","_e","changeStatus","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","mounted","getRoleList","watch","handler","debouncedSearch","methods","roleData","$UserApi","getRoleListByPage","page","size","e","_","role","updateRole","addRole","$message","message","component"],"sourceRoot":""}