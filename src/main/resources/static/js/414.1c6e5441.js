"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[414],{8414:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAddBtn}},[e._v("添加")]),t("UserForm",{ref:"userFrom"})],1)},l=[],s=r(8486),a={name:"AddUser",components:{UserForm:s.Z},mounted(){},methods:{async handleAddBtn(){this.$refs.userFrom.title="添加用户",this.$refs.userFrom.dialogFormVisible=!0}}},i=a,m=r(1001),n=(0,m.Z)(i,o,l,!1,null,null,null),f=n.exports},8486:function(e,t,r){r.d(t,{Z:function(){return n}});var o=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,top:"5vh",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form}},[t("el-form-item",{attrs:{label:"昵称",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"phone","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"角色",prop:"nameZh","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.rid,callback:function(t){e.$set(e.form,"rid",t)},expression:"form.rid"}},e._l(e.role,(function(e){return t("el-option",{key:e.rid,attrs:{label:e.nameZh,disabled:!e.enabled,value:e.rid}})})),1)],1),t("el-form-item",{attrs:{label:"固定电话",prop:"telephone","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"用户名",prop:"username","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.userface,callback:function(t){e.$set(e.form,"userface",t)},expression:"form.userface"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"remark","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("form")}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSumit}},[e._v("确 定")])],1)],1)},l=[],s={name:"addUserForm",data(){return{title:"",dialogFormVisible:!1,form:{name:"",rid:"",phone:"",telephone:"",address:"",username:"",password:"",userface:"http://bpic.588ku.com/element_pic/01/40/00/64573ce2edc0728.jpg",remark:""},formLabelWidth:"120px",role:[]}},mounted(){this.getRoleList()},methods:{async handleSumit(){if(this.dialogFormVisible=!1,"添加用户"==this.title)try{const e=await this.$UserApi.addUser(this.form);200===e.status&&(this.$message({type:"success",message:"添加成功！"}),this.resetForm("form"))}catch(e){this.$message.error("该用户已存在~")}if("更新用户"==this.title)try{const e=await this.$UserApi.editUser(this.form);200===e.status&&(this.$message({type:"success",message:"更新成功！"}),this.resetForm("form"),this.$parent.getUserList())}catch(e){this.$message.error("出错啦~")}},async getRoleList(){const e=await this.$UserApi.getAllRoleList();this.role=e.data},resetForm(e){this.$refs[e].resetFields()}}},a=s,i=r(1001),m=(0,i.Z)(a,o,l,!1,null,null,null),n=m.exports}}]);
//# sourceMappingURL=414.1c6e5441.js.map